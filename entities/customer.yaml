layer: conceptual
entity: Customer
description: "Individual or organization that purchases seeds, plants, and gardening products from the Willibald shop. Customers can place orders through webshop or roadshow channels, have delivery addresses, and may be members of partner associations. Historical residence information is tracked as multi-active attributes."

attributes:
  - name: customer_bk
    description: "Unique identifier for the customer (business key)"
    type: string
    example: "K12345"
    
  - name: Email
    description: "Primary contact email address for order confirmations"
    type: string
    example: "maria.schmidt@example.com"
    
  - name: Geburtsdatum
    description: "Customer birth date for demographics and marketing"
    type: date
    example: "1980-05-15"
    
  - name: Geschlecht
    description: "Customer gender"
    type: string
    example: "F"
    
  - name: GueltigBis
    description: "Credit card expiration date"
    type: date
    example: "2025-12-31"
    
  - name: KKFirma
    description: "Credit card company name"
    type: string
    example: "VISA"
    
  - name: Kreditkarte
    description: "Credit card number for payment"
    type: string
    example: "4111111111111111"
    
  - name: Mobil
    description: "Mobile phone number"
    type: string
    example: "+49 151 12345678"
    
  - name: Name
    description: "Customer last name or company name"
    type: string
    example: "Schmidt"
    
  - name: Telefon
    description: "Primary landline phone number"
    type: string
    example: "+49 9131 123456"
    
  - name: Vorname
    description: "Customer first name"
    type: string
    example: "Maria"
    
  - name: Von
    description: "Start date for multi-active residence period"
    type: date
    example: "2020-01-01"
    
  - name: Adresszusatz
    description: "Address supplement for residence (apartment, floor)"
    type: string
    example: "2. OG"
    
  - name: Bis
    description: "End date for multi-active residence period"
    type: date
    example: "2023-12-31"
    
  - name: Hausnummer
    description: "House number for residence"
    type: string
    example: "45"
    
  - name: Land
    description: "Country for residence"
    type: string
    example: "Deutschland"
    
  - name: Ort
    description: "City for residence"
    type: string
    example: "Erlangen"
    
  - name: Plz
    description: "Postal code for residence"
    type: string
    example: "91054"
    
  - name: Strasse
    description: "Street name for residence"
    type: string
    example: "Hauptstrasse"

relationships:
  - name: makes_a
    target: Order
    type: 1:M
    description: "Customer makes orders"
    
  - name: has_a
    target: DeliveryAddress
    type: 1:M
    description: "Customer has delivery addresses"
    
  - name: can_be_member_of
    target: AssociationPartner
    type: M:1
    description: "Customer can be member of association partner"

normalization_hints:
  multi_valued: 
    - Von
    - Adresszusatz
    - Bis
    - Hausnummer
    - Land
    - Ort
    - Plz
    - Strasse
  redundant: []
  constrained: 
    - Email
    - Geschlecht
    - Kreditkarte